<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ° C9 1íšŒì°¨ ë‚­í”Œë‹¨</title>

<style>
@font-face {
    font-family: 'OngleipKonkon';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/2412-1@1.0/Ownglyph_corncorn-Rg.woff2') format('woff2');
    font-weight: normal;
    font-display: swap;
}

body {
    background: #FFF6FA;
    font-family: "OngleipKonkon", "Pretendard", -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
    display: flex;
    justify-content: center;
    padding: 20px 16px;
    margin: 0;
    color: #4c2d3b;
}
/* ìƒë‹¨ ë„¤ë¹„ ë²„íŠ¼ */
.nav-top {
    display: flex;
    gap: 8px;
    margin-bottom: 14px;
}
.nav-btn {
    padding: 6px 14px;
    background: #FFD6EA;
    border: none;
    border-radius: 999px;
    font-size: 14px;
    color: #C04270;
    cursor: pointer;
    font-weight: 600;
}
.nav-btn:hover { background:#ffbfdc; }
.wrap {
    width: 100%;
    max-width: 1080px;
    margin: 0 auto;
}
h1 {
    text-align: center;
    font-size: 22px;
    font-weight: 800;
    margin-bottom: 12px;
    color: #FF8FB2;
}
.filter-bar {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-bottom: 12px;
    font-size: 13px;
}
.filter-bar input {
    flex: 1;
    max-width: 260px;
    padding: 6px 10px;
    border-radius: 999px;
    border: 1px solid #ffd6ea;
    background: #FFF9FD;
    outline: none;
}
.filter-bar input:focus {
    border-color: #ff9fc7;
    box-shadow: 0 0 0 2px rgba(255,159,199,0.25);
}
.table-scroll {
    overflow-x: auto;
    padding-bottom: 4px;
}
.table {
    display: flex;
    flex-direction: column;
    gap: 4px;
    min-width: 760px;
}
.row {
    display: flex;
    background: white;
    border-radius: 24px;
    overflow: hidden;
    box-shadow: 0 1px 4px rgba(255,150,180,0.08);
    padding: 2px 0;
    transition: box-shadow 0.15s ease, transform 0.15s ease;
}
.data-row:hover {
    box-shadow: 0 3px 8px rgba(255,150,180,0.15);
    transform: translateY(-1px);
}
.cell {
    padding: 4px 8px;
    font-size: 14px;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    border-right: 1px solid #FFE1EF;
    outline: none;
    cursor: text;
    white-space: normal;
    word-break: keep-all;
}
.cell:last-child {
    border-right: none;
}
.header {
    background: #FFEFF7;
}
.header .cell {
    font-weight: 700;
    color: #D04F7D;
    border-bottom: 2px solid #F8C7DB;
    contenteditable: false;
    cursor: default;
}
.summary-row {
    background: #FFF9FD;
    font-weight: 700;
    color: #cc507a;
}

/* ì—´ ë„ˆë¹„ (ì—­íŒ¬ ì œê±° í›„ 6ì—´ êµ¬ì¡°) */
.row .cell:nth-child(1) { width: 130px; } /* ì•„ì´ë”” */
.row .cell:nth-child(2) { width: 130px; } /* ë‹‰ë„¤ì„ */
.row .cell:nth-child(3) { width: 90px; }  /* ë‚­í”Œ */
.row .cell:nth-child(4) { width: 60px; }  /* ì›í”Œì› */
.row .cell:nth-child(5) { width: 530px; } /* ê³µì•½ */
.row .cell:nth-child(6) { width: 80px; }  /* ë²„íŠ¼ */

.action-cell {
    position: relative;
    border-right: none;
}
.action-buttons {
    display: none;
    gap: 4px;
    position: absolute;
    right: 4px;
    top: 50%;
    transform: translateY(-50%);
}
.action-buttons button {
    background: #FFD8EA;
    border: none;
    border-radius: 999px;
    padding: 3px 7px;
    font-size: 11px;
    cursor: pointer;
    color: #D24E78;
    transition: background 0.15s ease, transform 0.15s ease;
}
.action-buttons button:hover {
    background: #ffbddc;
    transform: translateY(-1px);
}
.row.show-actions .action-buttons {
    display: flex;
}

/* ìƒ‰ìƒ ë‹¨ê³„ */
:root {
    --lv0: #FFFFFF;
    --lv1: #FFF9FD;
    --lv2: #FFF3FA;
    --lv3: #FFE9F4;
    --lv4: #FFE0EF;
    --lv5: #FFD7EB;
    --lv6: #FFCEE7;
    --lv7: #FFC6E3;
    --lv8: #FFBEDF;
    --lv9: #FFB6DA;
}
</style>
</head>

<body>
<div class="wrap">
    
<!-- â¬… ê³µí†µ ë„¤ë¹„ê²Œì´ì…˜ -->
<div class="nav-top">
    <button onclick="location.href='../index.html'" class="nav-btn">ğŸ  í™ˆ</button>
    <button onclick="history.back()" class="nav-btn">â—€ ì´ì „</button>
</div>

<h1>ğŸ° C9 1íšŒì°¨ ë‚­í”Œë‹¨</h1>

<div class="filter-bar">
    <input id="search" type="text" placeholder="ì•„ì´ë”” / ë‹‰ë„¤ì„ ê²€ìƒ‰">
</div>

<div class="table-scroll">
    <div class="table" id="table">

        <!-- í—¤ë” (ì—­íŒ¬ ì™„ì „ì‚­ì œ) -->
        <div class="row header">
            <div class="cell">ì•„ì´ë””</div>
            <div class="cell">ë‹‰ë„¤ì„</div>
            <div class="cell">ë‚­í”Œ</div>
            <div class="cell">ì›í”Œì›</div>
            <div class="cell">ê³µì•½</div>
            <div class="cell action-cell"></div>
        </div>

<!-- ====== ë°ì´í„° ROWS (ygp-cell ì œê±°ëœ ì™„ì „ ì •ë¦¬ë³¸) ====== -->

<div class="row data-row">
    <div class="cell" contenteditable="true">dksl2233</div>
    <div class="cell" contenteditable="true">[C9]ì˜í•´</div>
    <div class="cell amount-cell" contenteditable="true">210092</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì •ì„±ë°©ì…€ + ì—­íŒ¬ 3% or ë°°ë¯¼ 50ë§Œì› + ë°©ì†¡ì†Œì›ê¶Œ + ì‹ë°</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">fox11241</div>
    <div class="cell" contenteditable="true">#woorinangni</div>
    <div class="cell amount-cell" contenteditable="true">50000</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì¹´í†¡ + ì—­íŒ¬ 3% + ì •ì„±ë°©ì…€ + ì†Œì†Œí•œì„ ë¬¼</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">hantong113</div>
    <div class="cell" contenteditable="true">ì˜ˆìˆ˜í˜•2â†‘</div>
    <div class="cell amount-cell" contenteditable="true">15151</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì¹´í†¡ + ì—­íŒ¬ 3% + ì •ì„±ë°©ì…€ or ì›í•˜ëŠ” ì§ì›ê³¼ ë°©ì…€(ëŒ€í‘œë‹˜ í¬í•¨)</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button><button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">knifehoo</div>
    <div class="cell" contenteditable="true">ê¹€ë°°í„°</div>
    <div class="cell amount-cell" contenteditable="true">12790</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì¹´í†¡ + ì—­íŒ¬ 3% + ì •ì„±ë°©ì…€ or ì›í•˜ëŠ” ì§ì›ê³¼ ë°©ì…€(ëŒ€í‘œë‹˜ í¬í•¨)</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button><button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">airess16</div>
    <div class="cell" contenteditable="true">ì˜´ë¸Œë¦¬ë‰´íŒ¬</div>
    <div class="cell amount-cell" contenteditable="true">12442</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì¹´í†¡ + ì—­íŒ¬ 3% + ì •ì„±ë°©ì…€ or ì›í•˜ëŠ” ì§ì›ê³¼ ë°©ì…€(ëŒ€í‘œë‹˜ í¬í•¨)</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button><button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">wjddudtjr777</div>
    <div class="cell" contenteditable="true">ë‚­ë¬´ìƒˆ</div>
    <div class="cell amount-cell" contenteditable="true">11574</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì¹´í†¡ + ì—­íŒ¬ 3% + ì •ì„±ë°©ì…€ or ì›í•˜ëŠ” ì§ì›ê³¼ ë°©ì…€(ëŒ€í‘œë‹˜ í¬í•¨)</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button><button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">kokoko2151</div>
    <div class="cell" contenteditable="true">ë¡œë„Œ</div>
    <div class="cell amount-cell" contenteditable="true">11473</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì¹´í†¡ + ì—­íŒ¬ 3% + ì •ì„±ë°©ì…€ or ì›í•˜ëŠ” ì§ì›ê³¼ ë°©ì…€(ëŒ€í‘œë‹˜ í¬í•¨)</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button><button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">jounguk892</div>
    <div class="cell" contenteditable="true">ê½‚ì„ë•Œí¬ì—´</div>
    <div class="cell amount-cell" contenteditable="true">9295</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ë°©ì…€ (ì‚¬ì§„ 2ì¥, ì›€ì§¤ 1ì¥)</div>
    <div class="cell action-cell">
        <div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">zxczsd235</div>
    <div class="cell" contenteditable="true">ìš¸ì„ë¼í˜•2â†‘</div>
    <div class="cell amount-cell" contenteditable="true">5734</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ë°©ì…€ (ì‚¬ì§„ 2ì¥, ì›€ì§¤ 1ì¥)</div>
    <div class="cell action-cell">
        <div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">malguman</div>
    <div class="cell" contenteditable="true">ë„ë§‘ìŒ</div>
    <div class="cell amount-cell" contenteditable="true">5289</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ë°©ì…€ (ì‚¬ì§„ 2ì¥, ì›€ì§¤ 1ì¥)</div>
    <div class="cell action-cell">
        <div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">pretty5869</div>
    <div class="cell" contenteditable="true">ì´ì˜ë©´ê¹…ì˜ˆì†”</div>
    <div class="cell amount-cell" contenteditable="true">5146</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ë°©ì…€ (ì‚¬ì§„ 2ì¥, ì›€ì§¤ 1ì¥)</div>
    <div class="cell action-cell">
        <div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">noble275</div>
    <div class="cell" contenteditable="true">ê¼¬ë¼ì§€í•˜ê³ ëŠ”</div>
    <div class="cell amount-cell" contenteditable="true">5000</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ë°©ì…€ (ì‚¬ì§„ 2ì¥, ì›€ì§¤ 1ì¥)</div>
    <div class="cell action-cell">
        <div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">22noka</div>
    <div class="cell" contenteditable="true">ëŒ€ì¶œê°šëŠ”ë”ë•</div>
    <div class="cell amount-cell" contenteditable="true">2400</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ê³ ì • ì‚¬ì§„ ë°©ì…€</div>
    <div class="cell action-cell">
        <div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">tjd01084</div>
    <div class="cell" contenteditable="true">ë‚­ê²¨ìš¸â™¥</div>
    <div class="cell amount-cell" contenteditable="true">2044</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ê³ ì • ì‚¬ì§„ ë°©ì…€</div>
    <div class="cell action-cell">
        <div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">kegsdop42</div>
    <div class="cell" contenteditable="true">ì¡°ë¸”ë“±ì¥</div>
    <div class="cell amount-cell" contenteditable="true">1572</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ê³ ì • ì‚¬ì§„ ë°©ì…€</div>
    <div class="cell action-cell">
        <div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">nowtomorrow</div>
    <div class="cell" contenteditable="true">ì´ˆì½”í†¡í•‘</div>
    <div class="cell amount-cell" contenteditable="true">1329</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ê³ ì • ì‚¬ì§„ ë°©ì…€</div>
    <div class="cell action-cell">
        <div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">stevendan85</div>
    <div class="cell" contenteditable="true">ìŠ¤í‹°ë¸ëŒ„</div>
    <div class="cell amount-cell" contenteditable="true">1234</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ê³ ì • ì‚¬ì§„ ë°©ì…€</div>
    <div class="cell action-cell">
        <div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">gkeksty</div>
    <div class="cell" contenteditable="true">ì‚¬ì—…ìëŒ€ì¶œ</div>
    <div class="cell amount-cell" contenteditable="true">1233</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ì—­íŒ¬ 3% + ê³ ì • ì‚¬ì§„ ë°©ì…€</div>
    <div class="cell action-cell">
        <div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">sang6111</div>
    <div class="cell" contenteditable="true">ì‹œê³¨ì²­ë…„ë¹µí›ˆ</div>
    <div class="cell amount-cell" contenteditable="true">499</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 3ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">begin0824</div>
    <div class="cell" contenteditable="true">ë¹™ê³ ì¥¬ìŠ¤</div>
    <div class="cell amount-cell" contenteditable="true">346</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 3ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">ksh5154</div>
    <div class="cell" contenteditable="true">ê²€ì€ëˆˆí† ë¼</div>
    <div class="cell amount-cell" contenteditable="true">300</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 3ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">akxkrxkr</div>
    <div class="cell" contenteditable="true">[C9]ooï½–</div>
    <div class="cell amount-cell" contenteditable="true">299</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 3ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">bhcbbq6974</div>
    <div class="cell" contenteditable="true">ìˆ˜í¬ê¹€</div>
    <div class="cell amount-cell" contenteditable="true">200</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">krhtlgh123</div>
    <div class="cell" contenteditable="true">ê³¨íƒ€369</div>
    <div class="cell amount-cell" contenteditable="true">200</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">kpcm800610</div>
    <div class="cell" contenteditable="true">ë§ˆì´í˜•2â†‘</div>
    <div class="cell amount-cell" contenteditable="true">109</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">dumbo0131</div>
    <div class="cell" contenteditable="true">ë‹¹êµ°!</div>
    <div class="cell amount-cell" contenteditable="true">109</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">mammaq</div>
    <div class="cell" contenteditable="true">ÎšÎ•ÎÎ–Î™</div>
    <div class="cell amount-cell" contenteditable="true">100</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">milla0315</div>
    <div class="cell" contenteditable="true">í—¤ì´ì¦â™¡</div>
    <div class="cell amount-cell" contenteditable="true">100</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">smsm4162</div>
    <div class="cell" contenteditable="true">í”„ë¡œê²œë¸”ëŸ¬</div>
    <div class="cell amount-cell" contenteditable="true">100</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">hilase</div>
    <div class="cell" contenteditable="true">ì¶œêµ¬í˜•2â†‘</div>
    <div class="cell amount-cell" contenteditable="true">100</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">abss1003</div>
    <div class="cell" contenteditable="true">ì˜ë¨¹ëŠ”ì¡±êµ¬</div>
    <div class="cell amount-cell" contenteditable="true">100</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">poby4280</div>
    <div class="cell" contenteditable="true">ì´í¬í˜•</div>
    <div class="cell amount-cell" contenteditable="true">100</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">n6628220</div>
    <div class="cell" contenteditable="true">ì–´ë‘ ì˜ë³´ì‚¬ë‹¨</div>
    <div class="cell amount-cell" contenteditable="true">100</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">aisaromi</div>
    <div class="cell" contenteditable="true">ì”¨êµ¬</div>
    <div class="cell amount-cell" contenteditable="true">100</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">kimjin7204</div>
    <div class="cell" contenteditable="true">ë°•í™”ìš”ìš”</div>
    <div class="cell amount-cell" contenteditable="true">100</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">kimsumgk77</div>
    <div class="cell" contenteditable="true">ë¬´ìƒë„</div>
    <div class="cell amount-cell" contenteditable="true">100</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">nowfree1004</div>
    <div class="cell" contenteditable="true">ê³ êµ¬ë§ˆì—ê¹€ì¹˜</div>
    <div class="cell amount-cell" contenteditable="true">100</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">slionics</div>
    <div class="cell" contenteditable="true">â˜†íŒ¨ì…˜â˜†</div>
    <div class="cell amount-cell" contenteditable="true">100</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable="true">vdfntqa85</div>
    <div class="cell" contenteditable="true">##38ê´‘ë•¡</div>
    <div class="cell amount-cell" contenteditable="true">100</div>
    <div class="cell" contenteditable="true"></div>
    <div class="cell" contenteditable="true">ê³µë†€ì´ë¡œ ëƒ ëƒ ì´ 1ë§Œì›ê¶Œ 5ëª…</div>
    <div class="cell action-cell">
        <div class="action-buttons">
            <button class="add">+</button>
            <button class="del">ğŸ—‘</button>
        </div>
    </div>
</div>

<!-- ====== END OF DATA ====== -->


        <!-- í•©ê³„ -->
        <div class="row summary-row">
            <div class="cell">í•©ê³„</div>
            <div class="cell"></div>
            <div class="cell summary-amount"></div>
            <div class="cell"></div>
            <div class="cell"></div>
            <div class="cell"></div>
        </div>

    </div>
</div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
import { getFirestore, collection, doc, getDocs, setDoc, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore.js";

const firebaseConfig = {
    apiKey: "AIzaSyDSwLkvSaFVEo8a8-KwURvxzcV_tt1BLnM",
    authDomain: "c9nang.firebaseapp.com",
    projectId: "c9nang",
    storageBucket: "c9nang.firebasestorage.app",
    messagingSenderId: "837147989788",
    appId: "1:837147989788:web:03cd5ebd0162bf3a4e8cd9",
    measurementId: "G-LTS2HVS3KG"
};


const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// ì´ í˜ì´ì§€ìš© Firestore ì»¬ë ‰ì…˜
const COLLECTION_MEMBERS = "pages_c9_1_members";


/* ìƒ‰ìƒ ë ˆë²¨ ê³„ì‚° */
function applyRowStyle(row){
    const amountCell = row.querySelector(".amount-cell");
    if(!amountCell) return;
    const num = parseInt(amountCell.innerText.replace(/[^0-9]/g,'')) || 0;
    let lv="--lv0";
    if(num>=100000 && num<150000) lv="--lv3";
    else if(num>=150000 && num<200000) lv="--lv4";
    else if(num>=200000 && num<250000) lv="--lv5";
    else if(num>=250000 && num<300000) lv="--lv6";
    else if(num>=300000 && num<400000) lv="--lv7";
    else if(num>=400000 && num<500000) lv="--lv8";
    else if(num>=500000) lv="--lv9";

    row.style.background = `var(${lv})`;
}

/* í•©ê³„ */
function updateSummary(){
    let sumAmount = 0;
    document.querySelectorAll(".data-row").forEach(row=>{
        const a = parseInt(row.querySelector(".amount-cell")?.innerText.replace(/[^0-9]/g,'') || "0");
        sumAmount += a;
    });
    const sumEl = document.querySelector(".summary-amount");
    if (sumEl) sumEl.innerText = sumAmount.toLocaleString();
}

/* ì „ì²´ ë¦¬í”„ë ˆì‹œ */
function refreshAll(){
    document.querySelectorAll(".data-row").forEach(applyRowStyle);
    updateSummary();
}

/* ë²„íŠ¼ í‘œì‹œ ë° í–‰ ì¶”ê°€/ì‚­ì œ */
function addRow(after){
    const newRow = after.cloneNode(true);
    newRow.querySelectorAll(".cell").forEach((c, idx)=>{
        if (!c.classList.contains("action-cell")) c.textContent = "";
    });
    after.insertAdjacentElement("afterend", newRow);
    refreshAll();
    scheduleSave();
}

function deleteRow(row){
    if(document.querySelectorAll(".data-row").length <= 1){
        alert("ë§ˆì§€ë§‰ í–‰ì€ ì‚­ì œ ë¶ˆê°€");
        return;
    }
    row.remove();
    refreshAll();
    scheduleSave();
}

document.addEventListener("click",(e)=>{
    const row = e.target.closest(".data-row");
    document.querySelectorAll(".data-row").forEach(r=>r.classList.remove("show-actions"));
    if(row) row.classList.add("show-actions");

    if(e.target.classList.contains("add")) addRow(row);
    if(e.target.classList.contains("del")) deleteRow(row);
});


// ================== Firestore ì—°ë™ ==================

let saveTimer = null;

function rowToData(row) {
    const cells = row.querySelectorAll(".cell");
    if (cells.length < 5) return null;

    const id = cells[0].textContent.trim();
    if (!id) return null;

    const nickname = cells[1].textContent.trim();
    const amountText = cells[2].textContent.replace(/[^0-9]/g, "").trim();
    const amount = parseInt(amountText || "0", 10) || 0;
    const oneplusone = cells[3].textContent.trim();
    const promise = cells[4].textContent.trim();

    return {
        id,
        nickname,
        amount,
        oneplusone,
        promise
    };
}

async function saveAllRowsToFirestore() {
    const rows = Array.from(document.querySelectorAll(".data-row"));
    const colRef = collection(db, COLLECTION_MEMBERS);

    for (const row of rows) {
        const data = rowToData(row);
        if (!data) continue;

        const docRef = doc(colRef, data.id);
        const payload = {
            ...data,
            updatedAt: serverTimestamp()
        };

        await setDoc(docRef, payload, { merge: true });

        const historyCol = collection(docRef, "history");
        await addDoc(historyCol, {
            ...data,
            savedAt: serverTimestamp()
        });
    }
    console.log("Firestore ì €ì¥ ì™„ë£Œ (members)");
}

function scheduleSave() {
    if (saveTimer) clearTimeout(saveTimer);
    saveTimer = setTimeout(() => {
        saveAllRowsToFirestore().catch(console.error);
    }, 1500);
}

async function loadFromFirestore() {
    try {
        const colRef = collection(db, COLLECTION_MEMBERS);
        const snap = await getDocs(colRef);

        if (snap.empty) {
            refreshAll();
            return;
        }

        const table = document.getElementById("table");
        if (!table) return;

        table.querySelectorAll(".data-row").forEach(r => r.remove());

        snap.forEach(docSnap => {
            const d = docSnap.data();
            const row = document.createElement("div");
            row.className = "row data-row";

            row.innerHTML = `
                <div class="cell" contenteditable="true">${d.id || ""}</div>
                <div class="cell" contenteditable="true">${d.nickname || ""}</div>
                <div class="cell amount-cell" contenteditable="true">${d.amount ?? ""}</div>
                <div class="cell" contenteditable="true">${d.oneplusone || ""}</div>
                <div class="cell" contenteditable="true">${d.promise || ""}</div>
                <div class="cell action-cell">
                    <div class="action-buttons">
                        <button class="add">+</button><button class="del">ğŸ—‘</button>
                    </div>
                </div>
            `;

            table.appendChild(row);
        });

        refreshAll();
    } catch (err) {
        console.error("Firestore ë¶ˆëŸ¬ì˜¤ê¸° ì˜¤ë¥˜ (members):", err);
        refreshAll();
    }
}

// ì…ë ¥ ìë™ ì €ì¥
document.addEventListener("input", (e) => {
    if (e.target.closest(".data-row")) {
        refreshAll();
        scheduleSave();
    }
});

// ì´ˆê¸° ì‹¤í–‰
window.addEventListener("load", () => {
    loadFromFirestore();
});
</script>



<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { getFirestore, collection, getDocs, doc, setDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDSwLkvSaFVEo8a8-KwURvxzcV_tt1BLnM",
  authDomain: "c9nang.firebaseapp.com",
  projectId: "c9nang",
  storageBucket: "c9nang.firebasestorage.app",
  messagingSenderId: "837147989788",
  appId: "1:837147989788:web:03cd5ebd0162bf3a4e8cd9",
  measurementId: "G-LTS2HVS3KG"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const COLLECTION = "pages_c9_1";

function getRowId(row) {
  const idCell = row.querySelector(".cell:nth-child(1)");
  return idCell ? idCell.textContent.trim() : "";
}

async function loadRows() {
  try {
    const snap = await getDocs(collection(db, COLLECTION));
    const saved = {};
    snap.forEach(d => saved[d.id] = d.data());

    document.querySelectorAll(".data-row").forEach(row => {
      const id = getRowId(row);
      if (!id) return;
      const data = saved[id];
      if (!data) return;

      const cells = row.querySelectorAll(".cell");
      // 0: id, 1: nickname, 2: amount, 3: level, 4: memo
      if (data.nickname !== undefined) cells[1].textContent = data.nickname;
      if (data.amount !== undefined) {
        const amount = Number(data.amount) || 0;
        cells[2].textContent = amount.toLocaleString();
      }
      if (data.level !== undefined) cells[3].textContent = data.level;
      if (data.memo !== undefined) cells[4].textContent = data.memo;
    });

    if (window.updateAll) window.updateAll();
  } catch (err) {
    console.error("Firestore load error (c9_1):", err);
  }
}

function attachAutoSave() {
  document.querySelectorAll(".data-row").forEach(row => {
    const editable = row.querySelectorAll('.cell[contenteditable="true"]');
    editable.forEach(cell => {
      cell.addEventListener("input", () => {
        if (row._autosaveTimer) clearTimeout(row._autosaveTimer);
        row._autosaveTimer = setTimeout(() => saveRow(row), 800);
      });
    });
  });
}

async function saveRow(row) {
  const cells = row.querySelectorAll(".cell");
  const id = (cells[0]?.textContent || "").trim();
  if (!id) return;

  const nickname = (cells[1]?.textContent || "").trim();
  const amountRaw = (cells[2]?.textContent || "").replace(/,/g, "").trim();
  const amount = Number(amountRaw || "0");
  const level = (cells[3]?.textContent || "").trim();
  const memo = (cells[4]?.textContent || "").trim();

  try {
    await setDoc(doc(collection(db, COLLECTION), id), {
      id,
      nickname,
      amount,
      level,
      memo,
      updatedAt: serverTimestamp()
    }, { merge: true });

    if (window.updateAll) window.updateAll();
    console.log("Saved c9_1 row:", id);
  } catch (err) {
    console.error("Firestore save error (c9_1):", err);
  }
}

window.addEventListener("DOMContentLoaded", () => {
  loadRows().then(attachAutoSave);
});
</script>

</body>
</html>
