<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ° C9 1íšŒì°¨ ë‚­í”Œë‹¨</title>

<style>
body {
    background: #FFF6FA;
    font-family: "Pretendard", -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
    display: flex;
    justify-content: center;
    padding: 20px 16px;
    color: #4c2d3b;
    margin: 0;
}

/* ì»¨í…Œì´ë„ˆ */
.wrap {
    width: fit-content;          /* â­ í­ ê³ ì • ì œê±° + ë‚´ìš© ê¸°ë°˜ ë„ˆë¹„ */
    margin: 0 auto;
}

/* ì œëª© */
h1 {
    text-align: center;
    font-size: 22px;
    font-weight: 800;
    margin-bottom: 20px;
    color: #FF8FB2;
}

/* í…Œì´ë¸” */
.table {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* í–‰ */
.row {
    display: grid;
    grid-template-columns:
        minmax(80px, auto)  /* ì•„ì´ë”” */
        minmax(80px, auto)  /* ë‹‰ë„¤ì„ */
        minmax(55px, auto)  /* ê°¯ìˆ˜ */
        minmax(55px, auto)  /* ì›í”Œì› */
        minmax(80px, auto)  /* ê³µì•½ */
        minmax(55px, auto)  /* ì—­íŒ¬ */
        minmax(60px, auto); /* ë¹„ê³  */

    background: white;
    border-radius: 26px;
    padding: 4px 0;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(255,150,180,0.10);
}

/* ì…€ */
.cell {
    padding: 8px 12px;
    font-size: 14px;
    display: flex;
    justify-content: center;
    align-items: center;
    white-space: nowrap;
    min-width: 40px;
    border-right: 1px solid #FFE1EF;
    outline: none;
}

.cell:last-child {
    border-right: none;
}

/* í—¤ë” */
.header .cell {
    font-weight: 700;
    background: #FFE8F4;
    color: #D55382;
    border-bottom: 2px solid #F5BAD2;
    contenteditable: false;
}

/* ëª¨ë°”ì¼ì—ì„œ ìë™ ì¶•ì†Œ */
@media (max-width: 600px) {
    .wrap {
        transform: scale(0.82);
        transform-origin: top center;
    }
}
</style>
</head>

<body>
<div class="wrap">

<h1>ğŸ° C9 1íšŒì°¨ ë‚­í”Œë‹¨</h1>

<div class="table" id="table">

    <div class="row header">
        <div class="cell">ì•„ì´ë””</div>
        <div class="cell">ë‹‰ë„¤ì„</div>
        <div class="cell">ê°¯ìˆ˜</div>
        <div class="cell">ì›í”Œì›</div>
        <div class="cell">ê³µì•½</div>
        <div class="cell">ì—­íŒ¬</div>
        <div class="cell">ë¹„ê³ </div>
    </div>

    <div class="row data">
        <div class="cell" contenteditable="true">danggun</div>
        <div class="cell" contenteditable="true">ë‹¹êµ°</div>
        <div class="cell amount" contenteditable="true">30000</div>
        <div class="cell" contenteditable="true">1</div>
        <div class="cell" contenteditable="true">ì¶œì„</div>
        <div class="cell ygp" contenteditable="true"></div>
        <div class="cell" contenteditable="true">VIP</div>
    </div>

</div>

</div>

<script>
/* === í´ë¦­í•˜ë©´ ì…€ í¬ì»¤ìŠ¤, ë°°ê²½ ëˆ„ë¥´ë©´ í‚¤ë³´ë“œ ë‹«ê¸° === */
document.addEventListener("click", (e) => {
    const isCell = e.target.closest(".cell");
    if (!isCell && document.activeElement.classList.contains("cell")) {
        document.activeElement.blur();
    }
});

/* === 3% ì—­íŒ¬ + ìƒ‰ìƒ === */
function applyStyle(row){
    const amt = row.querySelector(".amount");
    const ygp = row.querySelector(".ygp");
    if(!amt || !ygp) return;

    const num = parseInt(amt.innerText.replace(/[^0-9]/g,'')) || 0;
    ygp.innerText = num > 0 ? Math.round(num * 0.03) : "";
}
document.addEventListener("input", e=>{
    const row = e.target.closest(".row.data");
    if(row) applyStyle(row);
});
</script>

</body>
</html>
